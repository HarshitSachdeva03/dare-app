[{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\list-models.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\app\\actions\\generate-dare.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":4,"column":52,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":67,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CardDescription"},"fix":{"range":[98,115],"text":""},"desc":"Remove unused variable \"CardDescription\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardFooter' is defined but never used.","line":4,"column":69,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":79,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CardFooter"},"fix":{"range":[115,127],"text":""},"desc":"Remove unused variable \"CardFooter\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Cpu, Dumbbell, Users, BookOpen, Trash2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { generateChallenge, type Challenge } from \"./actions/generate-dare\";\nimport { ChallengeDisplay } from \"@/components/challenge-display\";\nimport confetti from \"canvas-confetti\";\nimport { useDares } from \"@/hooks/use-dares\";\n\nconst categories = [\n  {\n    id: \"tech\",\n    label: \"Tech\",\n    icon: Cpu,\n    description: \"Coding, gadgets, and future tech.\",\n    color: \"bg-blue-500/10 text-blue-500\",\n  },\n  {\n    id: \"fitness\",\n    label: \"Fitness\",\n    icon: Dumbbell,\n    description: \"Workouts, nutrition, and health.\",\n    color: \"bg-green-500/10 text-green-500\",\n  },\n  {\n    id: \"social\",\n    label: \"Social\",\n    icon: Users,\n    description: \"Connect, events, and community.\",\n    color: \"bg-purple-500/10 text-purple-500\",\n  },\n  {\n    id: \"learning\",\n    label: \"Learning\",\n    icon: BookOpen,\n    description: \"Books, courses, and skills.\",\n    color: \"bg-orange-500/10 text-orange-500\",\n  },\n];\n\nexport default function Home() {\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n  const [challenge, setChallenge] = useState<Challenge | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [userContext, setUserContext] = useState(\"\");\n  const [difficulty, setDifficulty] = useState(\"Medium\");\n\n  const { ongoingDares, completedDares, addDare, completeDare, deleteDare, isLoaded } = useDares();\n\n  const handleCategorySelect = async (categoryId: string) => {\n    if (loading) return;\n    setSelectedCategory(categoryId);\n    setLoading(true);\n    setChallenge(null);\n\n    const category = categories.find((c) => c.id === categoryId);\n    if (!category) return;\n\n    try {\n      const result = await generateChallenge(category.label, userContext, difficulty);\n      setChallenge(result);\n    } catch (error) {\n      console.error(\"Failed to generate challenge:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAcceptChallenge = () => {\n    if (challenge) {\n      addDare(challenge);\n      setChallenge(null);\n      setSelectedCategory(null);\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n  };\n\n  const handleCompleteDare = (id: number) => {\n    confetti({\n      particleCount: 150,\n      spread: 70,\n      origin: { y: 0.6 },\n    });\n    completeDare(id);\n  };\n\n  if (!isLoaded) return null; // Prevent hydration mismatch\n\n  return (\n    <div className=\"flex min-h-screen flex-col items-center bg-background p-8 font-sans transition-colors duration-300\">\n      <div className=\"flex w-full max-w-5xl flex-col items-center gap-12 text-center\">\n        {/* Hero Section */}\n        <div className=\"space-y-4\">\n          <h1 className=\"text-6xl font-extrabold tracking-tight text-foreground sm:text-7xl lg:text-8xl\">\n            Dare <span className=\"text-primary\">Yourself</span>\n          </h1>\n          <p className=\"mx-auto max-w-2xl text-xl text-muted-foreground sm:text-2xl\">\n            Escape the boredom loop. Choose your path and challenge your limits everyday.\n          </p>\n        </div>\n\n        {/* Ongoing Dares Section */}\n        {ongoingDares.length > 0 && (\n          <div className=\"w-full flex flex-col items-center gap-6 animate-in slide-in-from-top-4 duration-500\">\n            <h2 className=\"text-3xl font-bold flex items-center gap-2\">\n              üî• Active Challenges\n            </h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 w-full text-left\">\n              {ongoingDares.map((dare) => (\n                <div key={dare.id} className=\"relative group\">\n                  <button\n                    onClick={() => deleteDare(dare.id, false)}\n                    className=\"absolute -top-3 -right-3 z-10 bg-destructive text-destructive-foreground p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md hover:bg-destructive/90\"\n                    title=\"Give up\"\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </button>\n                  <ChallengeDisplay\n                    challenge={dare}\n                    mode=\"ongoing\"\n                    onAction={() => handleCompleteDare(dare.id)}\n                  />\n                </div>\n              ))}\n            </div>\n            <div className=\"w-full h-px bg-border/50 my-4\" />\n          </div>\n        )}\n\n        {/* Generator Section */}\n        <div className=\"w-full flex flex-col items-center justify-center min-h-[400px] gap-8\">\n          {loading ? (\n            <div className=\"w-full max-w-lg space-y-4\">\n              <div className=\"space-y-2\">\n                <Skeleton className=\"h-8 w-1/3\" />\n                <Skeleton className=\"h-4 w-1/4\" />\n              </div>\n              <Skeleton className=\"h-[200px] w-full rounded-xl\" />\n              <div className=\"space-y-2\">\n                <Skeleton className=\"h-4 w-full\" />\n                <Skeleton className=\"h-4 w-full\" />\n                <Skeleton className=\"h-4 w-full\" />\n              </div>\n            </div>\n          ) : challenge ? (\n            <ChallengeDisplay\n              challenge={challenge}\n              mode=\"preview\"\n              onAction={handleAcceptChallenge}\n            />\n          ) : (\n            <>\n              {/* Inputs Container */}\n              <div className=\"w-full max-w-md space-y-4 text-left\">\n                {/* User Context Input */}\n                <div className=\"space-y-2\">\n                  <label htmlFor=\"context\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                    Optional: Add some context (interests, mood, skills)\n                  </label>\n                  <Textarea\n                    id=\"context\"\n                    placeholder=\"e.g., I have a guitar collecting dust, or I want to learn something outdoor related...\"\n                    className=\"resize-none\"\n                    value={userContext}\n                    onChange={(e) => setUserContext(e.target.value)}\n                  />\n                </div>\n\n                {/* Difficulty Selection */}\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm font-medium leading-none\">\n                    Difficulty Level\n                  </label>\n                  <Select value={difficulty} onValueChange={setDifficulty}>\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"Select difficulty\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Easy\">Easy</SelectItem>\n                      <SelectItem value=\"Medium\">Medium</SelectItem>\n                      <SelectItem value=\"Hard\">Hard</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              {/* Category Grid */}\n              <div className=\"grid w-full grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4\">\n                {categories.map((category) => {\n                  const Icon = category.icon;\n                  const isSelected = selectedCategory === category.id;\n\n                  return (\n                    <Card\n                      key={category.id}\n                      onClick={() => handleCategorySelect(category.id)}\n                      className={cn(\n                        \"cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg\",\n                        isSelected\n                          ? \"ring-4 ring-primary ring-opacity-50 border-primary\"\n                          : \"border-border opacity-80 hover:opacity-100\"\n                      )}\n                    >\n                      <CardHeader className=\"flex flex-col items-center gap-4 py-8\">\n                        <div className={cn(\"rounded-full p-4 transition-colors\", category.color)}>\n                          <Icon className=\"h-8 w-8\" />\n                        </div>\n                        <CardTitle className=\"text-2xl font-bold\">{category.label}</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <p className=\"text-sm text-muted-foreground\">{category.description}</p>\n                      </CardContent>\n                    </Card>\n                  );\n                })}\n              </div>\n            </>\n          )}\n        </div>\n\n        {/* Reset / Selection Status */}\n        <div className=\"mt-8 h-8 font-medium text-foreground\">\n          {challenge && (\n            <button\n              onClick={() => {\n                setChallenge(null);\n                setSelectedCategory(null);\n              }}\n              className=\"text-primary hover:underline underline-offset-4\"\n            >\n              Choose another category\n            </button>\n          )}\n          {!challenge && !loading && (\n            selectedCategory ? (\n              <span>Generating for: <span className=\"capitalize text-primary\">{categories.find(c => c.id === selectedCategory)?.label}</span>...</span>\n            ) : (\n              <span className=\"text-muted-foreground text-sm opacity-50\">Select a category using the cards above</span>\n            )\n          )}\n        </div>\n\n        {/* Completed Dares Section */}\n        {completedDares.length > 0 && (\n          <div className=\"w-full flex flex-col items-center gap-6 mt-12 pt-12 border-t border-border/50\">\n            <h2 className=\"text-3xl font-bold text-muted-foreground flex items-center gap-2\">\n              üèÜ Trophy Room ({completedDares.length})\n            </h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full text-left opacity-80 hover:opacity-100 transition-opacity\">\n              {completedDares.map((dare) => (\n                <div key={dare.id} className=\"relative group\">\n                  <button\n                    onClick={() => deleteDare(dare.id, true)}\n                    className=\"absolute -top-2 -right-2 z-10 bg-muted text-muted-foreground p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    title=\"Remove from history\"\n                  >\n                    <Trash2 className=\"h-3 w-3\" />\n                  </button>\n                  <ChallengeDisplay challenge={dare} mode=\"completed\" />\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\challenge-display.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\hooks\\use-dares.ts","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\hooks\\use-dares.ts:22:27\n  20 |         const savedCompleted = localStorage.getItem('completedDares');\n  21 |\n> 22 |         if (savedOngoing) setOngoingDares(JSON.parse(savedOngoing));\n     |                           ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  23 |         if (savedCompleted) setCompletedDares(JSON.parse(savedCompleted));\n  24 |         setIsLoaded(true);\n  25 |     }, []);","line":22,"column":27,"nodeType":null,"endLine":22,"endColumn":42}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport type { Challenge } from '@/app/actions/generate-dare';\r\n\r\n// Extend Challenge with an ID and status if needed, or just store arrays\r\n// We'll wrap the Challenge type to include a unique ID (timestamp could work for simple local apps)\r\nexport interface StoredDare extends Challenge {\r\n    id: number;\r\n    completedAt?: string;\r\n    acceptedAt: string;\r\n}\r\n\r\nexport function useDares() {\r\n    const [ongoingDares, setOngoingDares] = useState<StoredDare[]>([]);\r\n    const [completedDares, setCompletedDares] = useState<StoredDare[]>([]);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    // Load from local storage on mount\r\n    useEffect(() => {\r\n        const savedOngoing = localStorage.getItem('ongoingDares');\r\n        const savedCompleted = localStorage.getItem('completedDares');\r\n\r\n        if (savedOngoing) setOngoingDares(JSON.parse(savedOngoing));\r\n        if (savedCompleted) setCompletedDares(JSON.parse(savedCompleted));\r\n        setIsLoaded(true);\r\n    }, []);\r\n\r\n    // Save to local storage whenever state changes\r\n    useEffect(() => {\r\n        if (!isLoaded) return;\r\n        localStorage.setItem('ongoingDares', JSON.stringify(ongoingDares));\r\n    }, [ongoingDares, isLoaded]);\r\n\r\n    useEffect(() => {\r\n        if (!isLoaded) return;\r\n        localStorage.setItem('completedDares', JSON.stringify(completedDares));\r\n    }, [completedDares, isLoaded]);\r\n\r\n    const addDare = (challenge: Challenge) => {\r\n        const newDare: StoredDare = {\r\n            ...challenge,\r\n            id: Date.now(),\r\n            acceptedAt: new Date().toISOString(),\r\n        };\r\n        setOngoingDares((prev) => [newDare, ...prev]);\r\n    };\r\n\r\n    const completeDare = (dareId: number) => {\r\n        const dare = ongoingDares.find((d) => d.id === dareId);\r\n        if (!dare) return;\r\n\r\n        const completedDare: StoredDare = { ...dare, completedAt: new Date().toISOString() };\r\n\r\n        setOngoingDares((prev) => prev.filter((d) => d.id !== dareId));\r\n        setCompletedDares((prev) => [completedDare, ...prev]);\r\n    };\r\n\r\n    const deleteDare = (dareId: number, isCompleted: boolean) => {\r\n        if (isCompleted) {\r\n            setCompletedDares(prev => prev.filter(d => d.id !== dareId));\r\n        } else {\r\n            setOngoingDares(prev => prev.filter(d => d.id !== dareId));\r\n        }\r\n    }\r\n\r\n    return {\r\n        ongoingDares,\r\n        completedDares,\r\n        addDare,\r\n        completeDare,\r\n        deleteDare,\r\n        isLoaded\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\W4RMACHIN3ROX\\Desktop\\Harshit files\\dare-app\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]